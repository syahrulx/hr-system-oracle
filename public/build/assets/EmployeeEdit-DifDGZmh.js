import{T as b,a as w,o as k,f as l,u as e,_ as r,Z as B,g as u,b as t,t as p,j as g,n,k as S,m as D,v as j,i as v,F as C,J as U,p as f}from"./app-M-BhDyoT.js";import{_ as q}from"./AuthenticatedLayout-Csf2TzHp.js";import{_ as N}from"./EmployeeTabs-kMVr2QzM.js";import{P as y}from"./PrimaryButton-BAIJQZ_W.js";import{_ as i,a as d}from"./InputLabel-NbDCV2Uj.js";import{_ as c}from"./TextInput-CR2XX4hN.js";import"./index-wSJ8pTGU.js";import{o as Y}from"./main-ByfsUclI.js";import{S as h}from"./sweetalert2-z6gKu1nJ.js";import{_ as $}from"./Card-KjmGG5d5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-J4jD2Qq-.js";import"./GoBackNavLink-LHvTqwpw.js";const P={class:"py-8"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"card-header"},A={class:"grid grid-cols-2 gap-8"},F={class:"grid grid-cols-2 gap-8 mt-4"},O={class:"mt-4"},L={class:"mt-4"},R={class:"grid grid-cols-2 gap-8 mt-4"},W={selected:"",value:""},z={class:"flex items-center justify-end mt-4"},te={__name:"EmployeeEdit",props:{employee:Object,href:String,shifts:Object,roles:Object},setup(_){const m=_,o=b({name:m.employee.name,ic_number:m.employee.national_id,email:m.employee.email,phone:m.employee.phone,address:m.employee.address,hired_on:m.employee.hired_on,role:m.employee.user_role??""});b({name:"",start_time:"",end_time:"",shift_payment_multiplier:"",description:""});const x=()=>{o.hired_on=U(o.hired_on).format("YYYY-MM-DD"),o.put(route("employees.update",{id:m.employee.id}),{preserveScroll:!0,onError:()=>{f().error(r("Error Editing Employee"))},onSuccess:()=>{f().success(r("Employee Edited Successfully"))}})},V=()=>{h.mixin({customClass:{confirmButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",cancelButton:"text-white bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-4 focus:ring-gray-500 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2"},buttonsStyling:!1}).fire({title:r("Are you sure?"),text:r("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:r("Yes, Delete!"),cancelButtonText:r("No, Cancel!"),reverseButtons:!0}).then(s=>{s.isConfirmed&&o.delete(route("employees.destroy",{id:m.employee.id}),{preserveScroll:!0,onError:()=>{f().error(r("Error Removing Employee"))},onSuccess:()=>{h.fire(r("Employee Removed!"),"","success")}})})};return(E,s)=>(k(),w(C,null,[l(e(B),{title:e(r)("Employee Edit")},null,8,["title"]),l(q,null,{tabs:u(()=>[l(N)]),default:u(()=>[t("div",P,[t("div",T,[l($,{class:"!mt-0"},{default:u(()=>[t("p",M,p(e(r)("Edit :name Details",{name:_.employee.name})),1),t("form",{onSubmit:g(x,["prevent"]),class:"form"},[t("div",A,[t("div",null,[l(i,{for:"name",value:e(r)("Full Name")},null,8,["value"]),l(c,{id:"name",type:"text",class:n(["mt-1 block w-full",{"border-2 border-red-500 ":e(o).errors.name}]),modelValue:e(o).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(o).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["class","modelValue"]),l(d,{class:"mt-2",message:e(o).errors.name},null,8,["message"])]),t("div",null,[l(i,{for:"ic_number",value:e(r)("National ID")},null,8,["value"]),l(c,{id:"ic_number",type:"number",class:n(["mt-1 block w-full",{"border border-red-500":e(o).errors.ic_number}]),modelValue:e(o).ic_number,"onUpdate:modelValue":s[1]||(s[1]=a=>e(o).ic_number=a),required:"",pattern:"[0-9]{14}",autocomplete:"off"},null,8,["class","modelValue"]),l(d,{class:"mt-2",message:e(o).errors.ic_number},null,8,["message"])])]),t("div",F,[t("div",null,[l(i,{for:"phone",value:e(r)("Phone")},null,8,["value"]),l(c,{id:"phone",type:"text",class:n(["mt-1 block w-full",{"border border-red-500":e(o).errors.phone}]),modelValue:e(o).phone,"onUpdate:modelValue":s[2]||(s[2]=a=>e(o).phone=a),required:"",autocomplete:"off"},null,8,["class","modelValue"]),l(d,{class:"mt-2",message:e(o).errors.phone},null,8,["message"])]),t("div",null,[l(i,{for:"email",value:e(r)("Email")},null,8,["value"]),l(c,{id:"email",type:"email",class:n(["mt-1 block w-full",{"border border-red-500":e(o).errors.email}]),modelValue:e(o).email,"onUpdate:modelValue":s[3]||(s[3]=a=>e(o).email=a),required:"",autocomplete:"off"},null,8,["class","modelValue"]),l(d,{class:"mt-2",message:e(o).errors.email},null,8,["message"])])]),t("div",O,[l(i,{for:"address",value:e(r)("Address")},null,8,["value"]),l(c,{id:"address",type:"text",class:n(["mt-1 block w-full",{"border border-red-500":e(o).errors.address}]),modelValue:e(o).address,"onUpdate:modelValue":s[4]||(s[4]=a=>e(o).address=a),required:"",autocomplete:"off"},null,8,["class","modelValue"]),l(d,{class:"mt-2",message:e(o).errors.address},null,8,["message"])]),t("div",L,[l(i,{for:"hired_on",value:e(r)("Hire Date")},null,8,["value"]),l(e(Y),{id:"hired_on",modelValue:e(o).hired_on,"onUpdate:modelValue":s[5]||(s[5]=a=>e(o).hired_on=a),class:n(["py-1 block w-full",{"border border-red-500":e(o).errors.hired_on}]),"enable-time-picker":!1,dark:S("isDark").value,required:""},null,8,["modelValue","class","dark"]),l(d,{class:"mt-2",message:e(o).errors.hired_on},null,8,["message"])]),t("div",R,[t("div",null,[l(i,{for:"role",value:e(r)("Permissions Level")},null,8,["value"]),D(t("select",{id:"role",class:"fancy-selector","onUpdate:modelValue":s[6]||(s[6]=a=>e(o).role=a)},[t("option",W,p(e(r)("Choose a Permission Level")),1),s[7]||(s[7]=t("option",{value:"admin"},"Admin",-1)),s[8]||(s[8]=t("option",{value:"employee"},"Employee",-1))],512),[[j,e(o).role]]),l(d,{class:"mt-2",message:e(o).errors.role},null,8,["message"])])]),t("div",z,[t("form",{onSubmit:g(V,["prevent"]),class:"inline"},[l(y,{class:"bg-red-600 hover:bg-red-700 ml-4"},{default:u(()=>[v(p(e(r)("Delete Employee")),1)]),_:1})],32),l(y,{class:n(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(o).processing}]),disabled:e(o).processing},{default:u(()=>[v(p(e(r)("Edit Employee")),1)]),_:1},8,["class","disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{te as default};
