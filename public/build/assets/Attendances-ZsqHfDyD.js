import{_ as w}from"./AuthenticatedLayout-Csf2TzHp.js";import{_ as c,e as v,a as s,o as t,d as f,t as r,u as n,b as l,F as y,l as x,h as g,g as u,i as h,x as k,f as o,r as P,w as A,Z as $,k as S,N as p}from"./app-M-BhDyoT.js";import{_ as T}from"./Paginator-jBFMfJ7J.js";import{a as D}from"./index-wSJ8pTGU.js";import{_ as N}from"./FlexButton-CYAytfr6.js";import{_ as B}from"./AttendanceTabs-BQPtxBT8.js";import{o as L}from"./main-ByfsUclI.js";import{_ as j,a as V}from"./InputLabel-NbDCV2Uj.js";import{_ as I}from"./Card-KjmGG5d5.js";import{P as O}from"./PlusIcon-frKdl8lX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-J4jD2Qq-.js";import"./GoBackNavLink-LHvTqwpw.js";const C={class:"relative overflow-x-auto shadow-2xl sm:rounded-2xl border border-red-500/20 bg-[#18181b]/90 backdrop-blur-xl"},E={key:0,class:"text-center pb-8 pt-8 text-gray-400"},F={key:1,class:"w-full text-sm text-left text-gray-300"},H={class:"text-xs text-gray-100 uppercase bg-red-900/20 border-b border-red-500/20"},M={key:0,scope:"col",class:"px-6 py-4 font-bold tracking-wider"},q={key:0},R={key:1},U={key:0,class:"px-6 py-4"},Z={key:2,class:"flex items-center justify-between pt-6 px-6 pb-6 border-t border-white/10","aria-label":"Table navigation"},z={key:0,class:"text-sm font-normal text-gray-400"},G={class:"font-semibold text-white"},J={class:"font-semibold text-white"},K={__name:"DataTable",props:{data:Object,head:Array,controller:{type:String,default:"employees"},hasLink:Boolean,hasActions:Boolean,hasPaginator:{type:Boolean,default:!0},hasCustomParams:{type:Boolean,default:!1},customParamsHeader:{type:String,default:"id"},customParamsIndex:{type:Number,default:0},undefinedText:{type:String,default:c("N/A")},boolMessage:Array},setup(e){return v(()=>{D()}),(m,i)=>(t(),s("div",C,[e.data.data.length===0?(t(),s("div",E,r(n(c)("No data was found in the records.")),1)):(t(),s("table",F,[l("thead",H,[l("tr",null,[(t(!0),s(y,null,x(e.head,d=>(t(),s("th",{scope:"col",class:"px-6 py-4 font-bold tracking-wider",key:d.id},r(d),1))),128)),e.hasActions?(t(),s("th",M,r(n(c)("Actions")),1)):f("",!0)])]),l("tbody",null,[(t(!0),s(y,null,x(e.data.data,d=>(t(),s("tr",{class:"border-b border-white/5 hover:bg-white/5 transition-colors duration-200",key:d.id},[(t(!0),s(y,null,x(d,(a,b)=>(t(),s("td",{class:"px-6 py-4",key:b},[e.hasLink?(t(),s("div",q,[e.hasCustomParams?(t(),g(n(k),{key:0,class:"font-medium text-white hover:text-red-400 transition-colors",href:m.route(e.controller+".show",{[e.customParamsHeader]:d[Object.keys(d)[e.customParamsIndex]]})},{default:u(()=>[h(r(a??e.undefinedText),1)]),_:2},1032,["href"])):(t(),g(n(k),{key:1,class:"font-medium text-white hover:text-red-400 transition-colors",href:m.route(e.controller+".show",{id:d.id})},{default:u(()=>[h(r(a??e.undefinedText),1)]),_:2},1032,["href"]))])):(t(),s("p",R,r(a??e.undefinedText),1))]))),128)),e.hasActions?(t(),s("td",U,[o(n(k),{href:m.route(e.controller+".edit",{id:d.id}),class:"font-medium text-red-400 hover:text-red-300 hover:underline transition-colors"},{default:u(()=>[h(r(n(c)("Edit")),1)]),_:2},1032,["href"])])):f("",!0)]))),128))])])),e.hasPaginator&&e.data.data.length!==0?(t(),s("nav",Z,[e.data.data.length!==e.data.total?(t(),s("span",z,[h(r(n(c)("Showing"))+" ",1),l("span",G,r(e.data.data.length),1),h(" "+r(n(c)("of"))+" ",1),l("span",J,r(e.data.total),1),h(" "+r(n(c)("Records"))+".",1)])):f("",!0),o(T,{links:e.data.links,class:"gap-2"},null,8,["links"])])):f("",!0)]))}},Q={class:"py-8"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"card-header !mb-4"},Y={class:"flex justify-between items-center pb-4 gap-4"},he={__name:"Attendances",props:{attendanceList:Object,dateParam:String},setup(e){const m=e,i=P(new Date(m.dateParam));return m.dateParam===""&&(i.value=""),A(i,()=>{i.value===null?p.visit(route("attendances.index",{term:null}),{preserveState:!0,preserveScroll:!0}):p.visit(route("attendances.index",{term:i.value.toISOString().split("T")[0]}),{preserveState:!0,preserveScroll:!0})}),(a,b)=>(t(),s(y,null,[o(n($),{title:a.__("Attendance")},null,8,["title"]),o(w,null,{tabs:u(()=>[o(B)]),default:u(()=>[l("div",Q,[l("div",W,[o(I,{class:"!mt-0"},{default:u(()=>[l("h1",X,r(a.__("Attendance List")),1),l("div",Y,[o(N,{href:a.route("attendances.create"),text:a.__("Take/Edit Attendance")},{default:u(()=>[o(O)]),_:1},8,["href","text"]),l("div",null,[o(j,{for:"date",value:a.__("Filter by Date:")},null,8,["value"]),o(n(L),{id:"date",modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=_=>i.value=_),class:"py-1 block w-full",placeholder:a.__("Select a Date.."),"enable-time-picker":!1,"max-date":new Date,dark:S("isDark").value,required:""},null,8,["modelValue","placeholder","max-date","dark"]),Object.keys(a.$page.props.errors).length?(t(),g(V,{key:0,class:"mt-2",message:a.$page.props.errors},null,8,["message"])):f("",!0)])]),o(K,{controller:"attendance",head:[a.__("Date"),a.__("Total Attendance"),a.__("Attended On Time"),a.__("Attended Late"),a.__("Absented")],data:e.attendanceList,hasActions:!1,hasLink:!0,hasCustomParams:!0,customParamsHeader:"date",customParamsIndex:a.end_date},null,8,["head","data","customParamsIndex"])]),_:1})])])]),_:1})],64))}};export{he as default};
