import{_ as y}from"./AuthenticatedLayout-Csf2TzHp.js";import{_ as a,a as r,o,f as x,u as l,Z as v,g as u,b as e,t as s,F as h,l as _,i as m,n as f,h as g,d as w}from"./app-M-BhDyoT.js";import{_ as k}from"./FlexButton-CYAytfr6.js";import{_ as B}from"./ReqTabs-CysynwAt.js";import{P as L}from"./PlusIcon-frKdl8lX.js";import"./useRequestTypes-TXWTeIqQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-J4jD2Qq-.js";import"./GoBackNavLink-LHvTqwpw.js";const p={pending:a("Pending"),approved:a("Approved"),rejected:a("Rejected")},C={class:"py-10 min-h-screen"},A={class:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row gap-10"},T={class:"w-full md:w-72 bg-[#18181b] backdrop-blur border border-red-500/20 rounded-2xl p-6 shadow-[0_0_20px_-5px_rgba(220,38,38,0.15)] mb-8 md:mb-0 flex-shrink-0"},j={key:0},E={class:"text-base font-bold text-gray-100 mb-5 tracking-wide border-b border-red-900/30 pb-2"},N={class:"space-y-4 mt-4"},R={class:"font-semibold flex items-center gap-2 text-gray-300"},S={key:0,class:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},$={key:1,class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},D={key:2,class:"h-4 w-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},P={key:1},V={class:"text-base font-bold text-gray-100 mb-5 tracking-wide border-b border-red-900/30 pb-2"},I={class:"space-y-4 mt-4"},F={class:"font-semibold flex items-center gap-2 text-gray-300"},O={key:0,class:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},z={key:1,class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},M={key:2,class:"h-4 w-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},Z={class:"flex-1"},q={class:"bg-[#18181b] rounded-2xl shadow-xl border border-red-500/20 p-8 shadow-[0_0_20px_-5px_rgba(220,38,38,0.15)]"},G={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6"},H={class:"text-2xl font-extrabold text-gray-100 tracking-tight"},J={class:"overflow-x-auto rounded-xl border border-red-500/10"},K={class:"min-w-full text-sm text-gray-200"},Q={class:"bg-red-900/20 text-gray-100 uppercase text-xs"},U={class:"w-12 text-center px-3 py-3 font-bold"},W={class:"px-3 py-3 font-bold text-left"},X={class:"px-3 py-3 font-bold text-left"},Y={class:"px-3 py-3 font-bold text-center"},ee={class:"px-3 py-3 font-bold text-center"},te={class:"px-3 py-3 font-bold text-center"},se={class:"w-12 text-center px-3 py-3 font-mono font-bold"},oe=["href"],re=["title"],le=["href"],ae={class:"px-3 py-3"},ne=["href"],de={class:"px-3 py-3 text-center"},ie=["href"],ce={class:"px-3 py-3 text-center"},xe=["href"],he={class:"px-3 py-3 text-center"},be={key:0,class:"px-3 py-1 rounded-full bg-yellow-900/50 text-yellow-200 text-xs font-bold shadow-sm border border-yellow-500/20"},ue={key:1,class:"px-3 py-1 rounded-full bg-green-900/50 text-green-200 text-xs font-bold shadow-sm border border-green-500/20"},_e={key:2,class:"px-3 py-1 rounded-full bg-red-900/50 text-red-200 text-xs font-bold shadow-sm border border-red-500/20"},Le={__name:"Requests",props:{requests:Object,leaveBalances:Array,leaveTotals:Object},setup(d){return(i,n)=>(o(),r(h,null,[x(l(v),{title:l(a)("Requests")},null,8,["title"]),x(y,null,{tabs:u(()=>[x(B)]),default:u(()=>[e("div",C,[e("div",A,[e("aside",T,[["admin","owner"].includes(i.$page.props.auth.user.role)?(o(),r("div",j,[e("h2",E,s(l(a)("Total Approved Leaves")),1),e("ul",N,[(o(),r(h,null,_(["Annual Leave","Emergency Leave","Sick Leave"],t=>e("li",{key:t,class:"flex items-center justify-between"},[e("span",R,[t==="Annual Leave"?(o(),r("svg",S,n[0]||(n[0]=[e("circle",{cx:"10",cy:"10",r:"10"},null,-1)]))):t==="Emergency Leave"?(o(),r("svg",$,n[1]||(n[1]=[e("rect",{width:"20",height:"20",rx:"4"},null,-1)]))):(o(),r("svg",D,n[2]||(n[2]=[e("ellipse",{cx:"10",cy:"10",rx:"10",ry:"7"},null,-1)]))),m(" "+s(t),1)]),e("span",{class:f([d.leaveTotals&&d.leaveTotals[t]?"bg-red-900/40 text-red-200 border border-red-500/30":"bg-[#252529] text-gray-500 border border-white/5","px-3 py-0.5 rounded-full text-xs font-bold min-w-[2rem] text-center shadow-sm"])},s(d.leaveTotals&&d.leaveTotals[t]?d.leaveTotals[t]:0),3)])),64))])])):(o(),r("div",P,[e("h2",V,s(l(a)("My Leave Balances")),1),e("ul",I,[(o(),r(h,null,_(["Annual Leave","Emergency Leave","Sick Leave"],t=>{var b;return e("li",{key:t,class:"flex items-center justify-between"},[e("span",F,[t==="Annual Leave"?(o(),r("svg",O,n[3]||(n[3]=[e("circle",{cx:"10",cy:"10",r:"10"},null,-1)]))):t==="Emergency Leave"?(o(),r("svg",z,n[4]||(n[4]=[e("rect",{width:"20",height:"20",rx:"4"},null,-1)]))):(o(),r("svg",M,n[5]||(n[5]=[e("ellipse",{cx:"10",cy:"10",rx:"10",ry:"7"},null,-1)]))),m(" "+s(t),1)]),e("span",{class:f([d.leaveBalances&&((b=d.leaveBalances.find(c=>c.leave_type===t))!=null&&b.balance)?"bg-red-900/40 text-red-200 border border-red-500/30":"bg-[#252529] text-gray-500 border border-white/5","px-3 py-0.5 rounded-full text-xs font-bold min-w-[2rem] text-center shadow-sm"])},s(d.leaveBalances&&d.leaveBalances.find(c=>c.leave_type===t)?d.leaveBalances.find(c=>c.leave_type===t).balance:0),3)])}),64))])]))]),e("main",Z,[e("div",q,[e("div",G,[e("h1",H,s(l(a)("Current Requests")),1),["admin","owner"].includes(i.$page.props.auth.user.role)?w("",!0):(o(),g(k,{key:0,href:i.route("requests.create"),text:l(a)("Initiate A Request"),class:f("text-white px-6 py-2 rounded-full font-semibold text-base shadow transition")},{default:u(()=>[x(L)]),_:1},8,["href","text"]))]),e("div",J,[e("table",K,[e("thead",null,[e("tr",Q,[e("th",U,s(l(a)("ID")),1),e("th",W,s(l(a)("Created By")),1),e("th",X,s(l(a)("Type")),1),e("th",Y,s(l(a)("Start Date")),1),e("th",ee,s(l(a)("End Date")),1),e("th",te,s(l(a)("Status")),1)])]),e("tbody",null,[(o(!0),r(h,null,_(d.requests.data,(t,b)=>(o(),r("tr",{key:t.id,class:"hover:bg-red-900/10 transition border-b border-white/5 bg-[#18181b]"},[e("td",se,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline text-red-400"},s(t.id),9,oe)]),e("td",{class:"px-3 py-3 max-w-[180px] truncate",title:t.employee_name},[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.employee_name),9,le)],8,re),e("td",ae,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.type),9,ne)]),e("td",de,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.start_date),9,ie)]),e("td",ce,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.end_date??l(a)("N/A")),9,xe)]),e("td",he,[t.status==="Pending"?(o(),r("span",be,s(l(p).pending),1)):t.status==="Approved"?(o(),r("span",ue,s(l(p).approved),1)):(o(),r("span",_e,s(l(p).rejected),1))])]))),128))])])])])])])])]),_:1})],64))}};export{Le as default};
