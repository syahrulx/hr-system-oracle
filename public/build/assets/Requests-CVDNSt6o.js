import{_ as v}from"./AuthenticatedLayout-D1jPPGAS.js";import{c as r,o,f as e,_ as n,a as h,u as l,Z as w,w as u,t as s,F as _,K as b,d as m,k as f,h as y,b as g}from"./app-BpzujhOZ.js";import{_ as k}from"./FlexButton-Kd8b2R3p.js";import{_ as B}from"./ReqTabs-QZzZwH4u.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useRequestTypes-hiaTVpaY.js";import"./NavLink-DBAWSDrX.js";import"./GoBackNavLink-D2T8JEmi.js";const C={name:"PlusIcon"},$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"};function A(d,i,a,t,x,c){return o(),r("svg",$,i[0]||(i[0]=[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"},null,-1)]))}const T=L(C,[["render",A]]),p={pending:n("Pending"),approved:n("Approved"),rejected:n("Rejected")},j={class:"py-10 min-h-screen"},E={class:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row gap-10"},N={class:"w-full md:w-72 bg-[#18181b] backdrop-blur border border-red-500/20 rounded-2xl p-6 shadow-[0_0_20px_-5px_rgba(220,38,38,0.15)] mb-8 md:mb-0 flex-shrink-0"},R={key:0},S={class:"text-base font-bold text-gray-100 mb-5 tracking-wide border-b border-red-900/30 pb-2"},D={class:"space-y-4 mt-4"},I={class:"font-semibold flex items-center gap-2 text-gray-300"},P={key:0,class:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},V={key:1,class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},z={key:2,class:"h-4 w-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},F={key:1},M={class:"text-base font-bold text-gray-100 mb-5 tracking-wide border-b border-red-900/30 pb-2"},O={class:"space-y-4 mt-4"},K={class:"font-semibold flex items-center gap-2 text-gray-300"},Z={key:0,class:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},q={key:1,class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},G={key:2,class:"h-4 w-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},H={class:"flex-1"},J={class:"bg-[#18181b] rounded-2xl shadow-xl border border-red-500/20 p-8 shadow-[0_0_20px_-5px_rgba(220,38,38,0.15)]"},Q={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6"},U={class:"text-2xl font-extrabold text-gray-100 tracking-tight"},W={class:"overflow-x-auto rounded-xl border border-red-500/10"},X={class:"min-w-full text-sm text-gray-200"},Y={class:"bg-red-900/20 text-gray-100 uppercase text-xs"},ee={class:"w-12 text-center px-3 py-3 font-bold"},te={class:"px-3 py-3 font-bold text-left"},se={class:"px-3 py-3 font-bold text-left"},oe={class:"px-3 py-3 font-bold text-center"},re={class:"px-3 py-3 font-bold text-center"},le={class:"px-3 py-3 font-bold text-center"},ne={class:"w-12 text-center px-3 py-3 font-mono font-bold"},ae=["href"],de=["title"],ie=["href"],ce={class:"px-3 py-3"},xe=["href"],he={class:"px-3 py-3 text-center"},_e=["href"],ue={class:"px-3 py-3 text-center"},be=["href"],fe={class:"px-3 py-3 text-center"},pe={key:0,class:"px-3 py-1 rounded-full bg-yellow-900/50 text-yellow-200 text-xs font-bold shadow-sm border border-yellow-500/20"},me={key:1,class:"px-3 py-1 rounded-full bg-green-900/50 text-green-200 text-xs font-bold shadow-sm border border-green-500/20"},ve={key:2,class:"px-3 py-1 rounded-full bg-red-900/50 text-red-200 text-xs font-bold shadow-sm border border-red-500/20"},Ae={__name:"Requests",props:{requests:Object,leaveBalances:Array,leaveTotals:Object},setup(d){return(i,a)=>(o(),r(_,null,[h(l(w),{title:l(n)("Requests")},null,8,["title"]),h(v,null,{tabs:u(()=>[h(B)]),default:u(()=>[e("div",j,[e("div",E,[e("aside",N,[["admin","owner"].includes(i.$page.props.auth.user.role)?(o(),r("div",R,[e("h2",S,s(l(n)("Total Approved Leaves")),1),e("ul",D,[(o(),r(_,null,b(["Annual Leave","Emergency Leave","Sick Leave"],t=>e("li",{key:t,class:"flex items-center justify-between"},[e("span",I,[t==="Annual Leave"?(o(),r("svg",P,a[0]||(a[0]=[e("circle",{cx:"10",cy:"10",r:"10"},null,-1)]))):t==="Emergency Leave"?(o(),r("svg",V,a[1]||(a[1]=[e("rect",{width:"20",height:"20",rx:"4"},null,-1)]))):(o(),r("svg",z,a[2]||(a[2]=[e("ellipse",{cx:"10",cy:"10",rx:"10",ry:"7"},null,-1)]))),m(" "+s(t),1)]),e("span",{class:f([d.leaveTotals&&d.leaveTotals[t]?"bg-red-900/40 text-red-200 border border-red-500/30":"bg-[#252529] text-gray-500 border border-white/5","px-3 py-0.5 rounded-full text-xs font-bold min-w-[2rem] text-center shadow-sm"])},s(d.leaveTotals&&d.leaveTotals[t]?d.leaveTotals[t]:0),3)])),64))])])):(o(),r("div",F,[e("h2",M,s(l(n)("My Leave Balances")),1),e("ul",O,[(o(),r(_,null,b(["Annual Leave","Emergency Leave","Sick Leave"],t=>{var x;return e("li",{key:t,class:"flex items-center justify-between"},[e("span",K,[t==="Annual Leave"?(o(),r("svg",Z,a[3]||(a[3]=[e("circle",{cx:"10",cy:"10",r:"10"},null,-1)]))):t==="Emergency Leave"?(o(),r("svg",q,a[4]||(a[4]=[e("rect",{width:"20",height:"20",rx:"4"},null,-1)]))):(o(),r("svg",G,a[5]||(a[5]=[e("ellipse",{cx:"10",cy:"10",rx:"10",ry:"7"},null,-1)]))),m(" "+s(t),1)]),e("span",{class:f([d.leaveBalances&&((x=d.leaveBalances.find(c=>c.leave_type===t))!=null&&x.balance)?"bg-red-900/40 text-red-200 border border-red-500/30":"bg-[#252529] text-gray-500 border border-white/5","px-3 py-0.5 rounded-full text-xs font-bold min-w-[2rem] text-center shadow-sm"])},s(d.leaveBalances&&d.leaveBalances.find(c=>c.leave_type===t)?d.leaveBalances.find(c=>c.leave_type===t).balance:0),3)])}),64))])]))]),e("main",H,[e("div",J,[e("div",Q,[e("h1",U,s(l(n)("Current Requests")),1),["admin","owner"].includes(i.$page.props.auth.user.role)?g("",!0):(o(),y(k,{key:0,href:i.route("requests.create"),text:l(n)("Initiate A Request"),class:f("text-white px-6 py-2 rounded-full font-semibold text-base shadow transition")},{default:u(()=>[h(T)]),_:1},8,["href","text"]))]),e("div",W,[e("table",X,[e("thead",null,[e("tr",Y,[e("th",ee,s(l(n)("ID")),1),e("th",te,s(l(n)("Created By")),1),e("th",se,s(l(n)("Type")),1),e("th",oe,s(l(n)("Start Date")),1),e("th",re,s(l(n)("End Date")),1),e("th",le,s(l(n)("Status")),1)])]),e("tbody",null,[(o(!0),r(_,null,b(d.requests.data,(t,x)=>(o(),r("tr",{key:t.id,class:"hover:bg-red-900/10 transition border-b border-white/5 bg-[#18181b]"},[e("td",ne,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline text-red-400"},s(t.id),9,ae)]),e("td",{class:"px-3 py-3 max-w-[180px] truncate",title:t.employee_name},[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.employee_name),9,ie)],8,de),e("td",ce,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.type),9,xe)]),e("td",he,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.start_date),9,_e)]),e("td",ue,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.end_date??l(n)("N/A")),9,be)]),e("td",fe,[t.status==="Pending"?(o(),r("span",pe,s(l(p).pending),1)):t.status==="Approved"?(o(),r("span",me,s(l(p).approved),1)):(o(),r("span",ve,s(l(p).rejected),1))])]))),128))])])])])])])])]),_:1})],64))}};export{Ae as default};
