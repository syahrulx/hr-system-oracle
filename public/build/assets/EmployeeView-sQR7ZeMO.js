import{_ as F}from"./AuthenticatedLayout-D1jPPGAS.js";import{e as I,c as g,o as h,f as s,t as o,r as w,l as z,L as A,F as $,Q as O,k as P,a as t,u as l,_ as r,Z as T,w as e,h as p,d as n,K as V}from"./app-BpzujhOZ.js";import{_ as j}from"./EmployeeTabs-BrX3e1vN.js";import{_ as C}from"./FlexButton-Kd8b2R3p.js";import{a as H}from"./index-DgXlKtrh.js";import{_ as b}from"./Card-CfWD_u_-.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{D as S,_ as c,a as f,b as m}from"./DescriptionListItem-DYP9BLLb.js";import{_ as G,T as q,a as x,b as v}from"./TableRow-Dr_T6fJ4.js";import"./NavLink-DBAWSDrX.js";import"./GoBackNavLink-D2T8JEmi.js";const K=["data-modal-target","data-modal-toggle"],Q=["id"],R={class:"relative w-full max-w-2xl max-h-full"},U={class:"relative bg-white rounded-lg shadow dark:bg-gray-800"},Z={class:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600"},J={class:"text-xl text-gray-900 dark:text-white"},W=["data-modal-hide"],X={class:"p-6 space-y-6"},ee={class:"flex items-center p-6 space-x-2 rtl:space-x-reverse border-t border-gray-200 rounded-b dark:border-gray-600"},te={key:0},ae={key:1},le=["data-modal-hide"],oe=["data-modal-hide"],se={__name:"GenericModal",props:{title:String,modalId:String,modalHeader:String,hasCustomFooter:{type:Boolean,default:!1},footerActionName:{type:String,default:"Close"},hasCancel:{type:Boolean,default:!1}},setup(a){return I(()=>{H()}),(d,i)=>(h(),g($,null,[s("a",{"data-modal-target":a.modalId,"data-modal-toggle":a.modalId,class:"cursor-pointer text-xs font-medium text-purple-600 dark:text-purple-500 hover:underline"},o(a.title),9,K),s("div",{id:a.modalId,tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},[s("div",R,[s("div",U,[s("div",Z,[s("h3",J,o(a.modalHeader),1),s("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":a.modalId},i[0]||(i[0]=[s("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),s("span",{class:"sr-only"},"Close modal",-1)]),8,W)]),s("div",X,[w(d.$slots,"default")]),s("div",ee,[a.hasCustomFooter?(h(),g("div",te,[w(d.$slots,"customFooter")])):(h(),g("div",ae,[s("button",{"data-modal-hide":a.modalId,type:"button",class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-700 dark:hover:bg-purple-700 dark:focus:ring-purple-800"},o(a.footerActionName),9,le),z(s("button",{"data-modal-hide":a.modalId,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-purple-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ",8,oe),[[A,a.hasCancel]])]))])])])],8,Q)],64))}};function re(){function a(d){const i={year:"numeric",month:"long",day:"numeric"},u=1800+(parseInt(d.charAt(0))-1)*100+parseInt(d.substr(1,2)),y=parseInt(d.substr(3,2)),D=parseInt(d.substr(5,2)),N=d.substr(7,2),E={"01":"القاهرة","02":"الإسكندرية","03":"بورسعيد","04":"السويس",11:"دمياط",12:"الدقهلية",13:"الشرقية",14:"القليوبية",15:"كفر الشيخ",16:"الغربية",17:"المنوفية",18:"البحيرة",19:"الإسماعيلية",21:"الجيزة",22:"بني سويف",23:"الفيوم",24:"المنيا",25:"أسيوط",26:"سوهاج",27:"قنا",28:"أسوان",29:"الأقصر",31:"البحر الأحمر",32:"الوادي الجديد",33:"مطروح",34:"شمال سيناء",35:"جنوب سيناء",88:"خارج الجمهورية"}[N],L=parseInt(d.charAt(12))%2!==0,M=new Date(u,y-1,D);return{year:u,month:y,day:D,date:M.toLocaleDateString("en-uk",i),date_localized:M.toLocaleDateString(O().props.locale,i),state:E,isMale:L}}return{extractPersonalDetails:a}}const de={class:"overflow-hidden sm:rounded-lg"},ne={class:P("grid grid-cols-2")},ie={__name:"HistoryDescriptionList",props:{},setup(a){return(d,i)=>(h(),g("div",de,[s("dl",null,[s("div",ne,[w(d.$slots,"default")])])]))}};function ue(a){const d=new Date(a),i=new Date;let _=i.getFullYear()-d.getFullYear();return(i.getMonth()<d.getMonth()||i.getMonth()===d.getMonth()&&i.getDate()<d.getDate())&&_--,Math.abs(_)}const ce={name:"ModifyIcon"},fe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-5 mr-2 -ml-1"};function me(a,d,i,_,k,u){return h(),g("svg",fe,d[0]||(d[0]=[s("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"},null,-1),s("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"},null,-1)]))}const B=Y(ce,[["render",me]]),he={class:"py-8"},_e={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ge={class:"flex justify-between items-center mb-4"},ye={class:"card-header"},pe={class:"flex inline-flex gap-4"},be={class:"card-subheader"},xe=["href"],ve=["href"],we=["href"],$e={class:"mb-2 ml-1 font-semibold"},ke={class:"mb-2 ml-1 font-semibold"},De={class:"px-4 py-3.5"},Me={class:"text-sm font-medium"},Te={__name:"EmployeeView",props:{employee:Object},setup(a){let{extractPersonalDetails:d}=re();I(()=>{H()});const i=a;return(_,k)=>(h(),g($,null,[t(l(T),{title:l(r)("Employee View")},null,8,["title"]),t(F,null,{tabs:e(()=>[t(j)]),default:e(()=>[s("div",he,[s("div",_e,[t(b,{class:"!mt-0"},{default:e(()=>[s("div",ge,[s("h1",ye,o(l(r)("Employee View")),1),s("div",pe,[_.$page.props.auth.user.role==="admin"?(h(),p(C,{key:0,text:l(r)("Modify Employee Data"),href:_.route("employees.edit",{id:a.employee.id})},{default:e(()=>[t(B)]),_:1},8,["text","href"])):(h(),p(C,{key:1,text:l(r)("Modify Data"),href:_.route("profile.edit",{id:a.employee.id})},{default:e(()=>[t(B)]),_:1},8,["text","href"]))])]),s("h2",be,o(l(r)("Basic Info")),1),t(S,null,{default:e(()=>[t(c,{colored:""},{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Name")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(a.employee.name),1)]),_:1})]),_:1}),t(c,{colored:""},{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("ID")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(a.employee.id),1)]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Phone")),1)]),_:1}),t(m,null,{default:e(()=>[s("a",{href:"tel:"+a.employee.phone},o(a.employee.phone),9,xe)]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("National ID")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(a.employee.national_id),1)]),_:1})]),_:1}),t(c,{colored:""},{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Email")),1)]),_:1}),t(m,null,{default:e(()=>[s("a",{href:"mailto:"+a.employee.email},o(a.employee.email),9,ve)]),_:1})]),_:1}),t(c,{colored:""},{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Gender")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(l(d)(a.employee.national_id).isMale?l(r)("Male"):l(r)("Female")),1)]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Birthday")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(l(d)(a.employee.national_id).date_localized+" - "+l(ue)(l(d)(a.employee.national_id).date)+" "+l(r)("Years")),1)]),_:1})]),_:1}),t(c,{colored:""},{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Hire Date")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(a.employee.hired_on),1)]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Address")),1)]),_:1}),t(m,null,{default:e(()=>[s("a",{href:"https://www.google.com/maps/search/?api=1&query="+i.employee.address,target:"”_blank”"},o(a.employee.address),9,we)]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:e(()=>[s("h2",$e,o(l(r)("Technical Info")),1),t(S,null,{default:e(()=>[t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n(o(l(r)("Access Permissions")),1)]),_:1}),t(m,null,{default:e(()=>[n(o(a.employee.user_role?a.employee.user_role.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase()):l(r)("Not Assigned")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:e(()=>[s("h2",ke,o(l(r)("History")),1),t(ie,null,{default:e(()=>[s("div",De,[s("dt",Me,o(l(r)("Previous Shifts")),1),t(se,{modalId:"Shifts Modal",title:l(r)("Click Here To See Shifts History"),modalHeader:l(r)("Previous Shifts"),hasCancel:!1},{default:e(()=>[t(G,{totalNumber:1,enablePaginator:!1},{Head:e(()=>[t(v,null,{default:e(()=>[n(o(l(r)("Shift")),1)]),_:1}),t(v,null,{default:e(()=>[n(o(l(r)("Starting From")),1)]),_:1}),t(v,null,{default:e(()=>[n(o(l(r)("Ending At")),1)]),_:1})]),Body:e(()=>[(h(!0),g($,null,V(a.employee.employee_shifts,u=>(h(),p(q,{key:u.id},{default:e(()=>[t(x,null,{default:e(()=>{var y;return[n(o(((y=u.shift)==null?void 0:y.name)??l(r)("DELETED SHIFT")),1)]}),_:2},1024),t(x,null,{default:e(()=>[n(o(u.start_date),1)]),_:2},1024),t(x,null,{default:e(()=>[n(o(u.end_date??l(r)("Current")),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["title","modalHeader"])])]),_:1})]),_:1})])])]),_:1})],64))}};export{Te as default};
